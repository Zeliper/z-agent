# /planning Command

사용자가 작업 계획을 수립할 때 사용하는 z-agent 명령어입니다.

## 사용법
```
/planning <계획할 작업>
```

## 예시
```
/planning 마이크로서비스 아키텍처로 전환
/planning 새로운 인증 시스템 설계
/planning 성능 최적화 전략 수립
```

## 처리 흐름

1. **요구사항 분석** (Sonnet)
   - 사용자 요구사항 파악
   - 제약조건 식별
   - 범위 정의

2. **작업 분해** (Opus 권장)
   - 주요 단계 식별
   - 의존성 파악
   - 우선순위 결정

3. **계획서 생성**
   - TODO 목록 작성
   - 각 단계별 난이도 판정
   - 예상 리스크 식별

4. **사용자 검토 요청**
   - 계획 요약 제시
   - 수정 요청 가능
   - 승인 후 실행

## 실행 시 동작

이 명령어가 실행되면 다음을 수행하세요:

1. 사용자의 계획 요청을 분석합니다.
2. 현재 코드베이스 구조를 파악합니다.
3. 작업을 논리적 단계로 분해합니다.
4. 계획서를 작성하여 사용자에게 제시합니다.
5. 사용자 승인 후 Task로 변환합니다.

## 계획서 형식

```yaml
---
planId: plan-001
title: 마이크로서비스 아키텍처 전환
createdAt: 2024-01-15T10:00:00
estimatedDifficulty: H
---

# 개요
{계획의 목적과 범위 설명}

# 현재 상태 분석
{현재 코드베이스/아키텍처 분석}

# 목표 상태
{달성하고자 하는 최종 상태}

# 실행 단계
## Phase 1: 준비
- [ ] 1.1 현재 의존성 분석 (M)
- [ ] 1.2 분리 가능한 모듈 식별 (H)

## Phase 2: 구현
- [ ] 2.1 서비스 분리 (H)
- [ ] 2.2 API 게이트웨이 설정 (H)

## Phase 3: 테스트 및 배포
- [ ] 3.1 통합 테스트 (M)
- [ ] 3.2 배포 스크립트 작성 (M)

# 리스크
| 리스크 | 영향 | 대응 방안 |
|--------|------|-----------|
| 데이터 불일치 | 높음 | 트랜잭션 관리 강화 |

# 다음 단계
사용자 승인 후 Task로 변환하여 실행합니다.

이 계획을 진행할까요? [Y/n]
```

## 특징

- 즉시 실행하지 않고 계획만 수립
- 사용자 검토 및 수정 기회 제공
- 승인 시 자동으로 `/task`로 변환
- 복잡한 작업에 권장

## 사용자 상호작용

```
계획 완료:

## 마이크로서비스 아키텍처 전환 계획

총 6개 단계 | 예상 난이도: H

### Phase 1: 준비 (2단계)
### Phase 2: 구현 (2단계)
### Phase 3: 테스트 및 배포 (2단계)

상세 계획: .z-agent/plans/plan-001.md

선택:
1. 계획 승인 및 실행 시작
2. 계획 수정 요청
3. 계획 취소
```
