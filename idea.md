# ê°œìš”
`z-agent`ëŠ” Claude Codeë¥¼ ì´ìš©í•œ ì„¸ì…˜ ì»¨í…ìŠ¤íŠ¸ ìœ ì§€, ì‘ì—… íë¦„ ê´€ë¦¬, ì‘ì—… ì´ë ¥ ë° Lessons Learnedë¥¼ í†µí•´ ì§€ì†ì ì¸ ê°œì„ ì„ ë„ëª¨í•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

# ì„¸ì…˜ ê´€ë¦¬
Claude Codeì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ Commandë¥¼ í†µí•´ ëŒ€í™”ë¥¼ ì‹œì‘í•  ê²½ìš° session-manager Agentê°€ ìë™ìœ¼ë¡œ í•˜ìœ„ Agentsë“¤ì„ Spawn ë° Task íë¦„ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.

# ì£¼ì˜ ì‚¬í•­
- Windows í™˜ê²½ ë° Linux í™˜ê²½ì—ì„œ ë™ì¼í•˜ê²Œ ë™ì‘í•´ì•¼ í•¨
- session-managerì˜ ìµœì¢… ë‹µë³€ë§Œ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì¶œë ¥í•´ì•¼ í•¨

## í¬ë¡œìŠ¤ í”Œë«í¼ í˜¸í™˜ì„±
| í•­ëª© | Windows | Linux/macOS |
|------|---------|-------------|
| ê²½ë¡œ êµ¬ë¶„ì | `os.path.join()` ë˜ëŠ” `pathlib.Path` ì‚¬ìš© ê¶Œì¥ | ë™ì¼ |
| ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ | `python task-manager.py` | `python3 task-manager.py` |
| ì¤„ë°”ê¿ˆ | íŒŒì¼ I/O ì‹œ `newline=''` ì˜µì…˜ ì‚¬ìš© | ë™ì¼ |

---

## Commands
| ëª…ë ¹ì–´ | ì„¤ëª… |
|--------|------|
| `/task` | ì‚¬ìš©ìê°€ Task ì§€ì‹œ |
| `/ask` | ì‚¬ìš©ìê°€ ì§ˆë¬¸ |
| `/planning` | ì‚¬ìš©ìê°€ Taskë¥¼ ê³„íš |

---

## Agents

### ì—­í•  ë¶„ë¦¬ ì›ì¹™
- **íë¦„ ì œì–´**: Sonnet ëª¨ë¸ (ë¹„ìš© íš¨ìœ¨ì )
- **ë³µì¡í•œ íŒë‹¨**: Opus ëª¨ë¸ (í•„ìš”ì‹œì—ë§Œ)

### Agent ëª©ë¡
| Agent | ëª¨ë¸ | ìš©ë„ | ì‘ì—… ë‚œì´ë„ |
|-------|------|------|-------------|
| `session-manager` | Sonnet | ëª¨ë“  ì‚¬ìš©ì ì…ë ¥ì— ëŒ€í•œ íë¦„ ì œì–´, í•„ìš”ì‹œ Opus ìœ„ì„ | - |
| `opus-agent` | Opus | ì½”ë“œ ì‘ì„±, ê³ ê¸‰ ë…¼ë¦¬, ë³µì¡í•œ ì§ˆë¬¸, ìƒì„¸í•œ íŒë‹¨ | H (ê³ ê¸‰) |
| `sonnet-agent` | Sonnet | ì—ëŸ¬ ë¡œê·¸ í™•ì¸, ì¼ë°˜ ì§ˆë¬¸, ê°„ë‹¨í•œ ë…¼ë¦¬ íŒë‹¨ | M (ì¼ë°˜) |
| `haiku-agent` | Haiku | ì›¹ ê²€ìƒ‰, íŒŒì¼ ê²€ìƒ‰, ì»¤ë°‹ ë©”ì‹œì§€ ìƒì„±, ê°„ë‹¨í•œ ë²ˆì—­ | L (ê°„ë‹¨) |

---

## Skills
| Skill | ì„¤ëª… |
|-------|------|
| `task-initializer` | Task íŒŒì¼ ìƒì„± ë° ì´ˆê¸°í™” |
| `difficulty-analyzer` | ì‚¬ìš©ì ì…ë ¥ ë‚œì´ë„ ë¶„ì„ (H/M/L) |
| `lesson-recorder` | Lessons Learned ê¸°ë¡ ë° ê´€ë¦¬ |

---

## í´ë” êµ¬ì¡°
```
.z-agent/
â”œâ”€â”€ config.yaml              # ì „ì—­ ì„¤ì •
â”œâ”€â”€ tasks/
â”‚   â””â”€â”€ task-NNN.md          # Task ì •ì˜ íŒŒì¼
â”œâ”€â”€ task-NNN/                # Taskë³„ ìƒì„¸ ê²°ê³¼
â”‚   â””â”€â”€ todo-NNN.md          # ê° TODO í•­ëª© ê²°ê³¼
â”œâ”€â”€ lessons/                 # Lessons Learned ì €ì¥ì†Œ
â”‚   â””â”€â”€ lesson-NNN.md        # í•™ìŠµ ë‚´ìš©
â””â”€â”€ scripts/
    â””â”€â”€ task-manager.py      # Task ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸
```

---

## Task íŒŒì¼ í…œí”Œë¦¿
**ìœ„ì¹˜**: `.z-agent/tasks/`
**íŒŒì¼ëª… íŒ¨í„´**: `task-NNN.md`

```yaml
---
taskId: task-001
taskDesc: ë„¤íŠ¸ì›Œí¬ ë³‘ëª© í˜„ìƒ ë¶„ì„ ë° í•´ê²°
createdAt: 2024-01-15T10:30:00
difficulty: H  # ì „ì²´ ë‚œì´ë„ (H/M/L)
status: in_progress  # pending | in_progress | completed | cancelled
---
# TODO List
âœ… - 1. ë³‘ëª© í˜„ìƒì´ ë°œìƒí•˜ëŠ” íŒŒì¼ í™•ì¸ (M)
â³ - 2. ë³‘ëª© í˜„ìƒ í•´ê²° ë°©ì•ˆ ìˆ˜ë¦½ (H)
â³ - 3. ë³‘ëª© í˜„ìƒ í•´ê²° ë°©ì•ˆ ì ìš© (H)
âŒ - 4. ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸ (L)

# Footnote
ì‚¬ìš©ìê°€ íŠ¹ì • íŒŒì¼ì´ ì•„ë‹Œ ì „ë°˜ì ì¸ ë¶„ì„ì„ ìš”ì²­í•¨
```

### ìƒíƒœ ì´ëª¨ì§€
| ì´ëª¨ì§€ | ìƒíƒœ | ì„¤ëª… |
|--------|------|------|
| â³ | pending | ëŒ€ê¸° ì¤‘ |
| ğŸ”„ | in_progress | ì§„í–‰ ì¤‘ |
| âœ… | complete | ì™„ë£Œ |
| âŒ | cancelled | ì·¨ì†Œ |
| ğŸš« | blocked | ì°¨ë‹¨ë¨ |

---

## Session Manager Response Rule
session-managerê°€ ì‚¬ìš©ìì—ê²Œ ìµœì¢… ë‹µë³€í•˜ëŠ” ë°©ì‹:

### ëª©ì 
- Claude Code ì„¸ì…˜ì˜ Context ì‚¬ìš©ëŸ‰ ìµœì†Œí™”
- ìƒì„¸ ë‚´ìš©ì€ íŒŒì¼ì— ì €ì¥, ì„¸ì…˜ì—ëŠ” ìš”ì•½ë§Œ ìœ ì§€
- ì‚¬ìš©ìê°€ í•„ìš”ì‹œ íŒŒì¼ ì°¸ì¡° ê°€ëŠ¥

### ìµœì¢… ë‹µë³€ ìƒì„± Flow
```
1. .z-agent/tasks/task-NNN.md ì½ê¸° (Task ê°œìš”, TODO ìƒíƒœ)
2. .z-agent/task-NNN/todo-*.md ì½ê¸° (ê° TODO ê²°ê³¼)
3. ì¢…í•©í•˜ì—¬ ê°„ê²°í•œ ìš”ì•½ ìƒì„±
4. ì„¸ì…˜ì— ìš”ì•½ë§Œ ì¶œë ¥
```

### ìµœì¢… ë‹µë³€ í…œí”Œë¦¿
```
## Task [task-NNN] ì™„ë£Œ

### ìš”ì•½
{1-2ë¬¸ì¥ í•µì‹¬ ê²°ê³¼}

### ì™„ë£Œ í•­ëª©
- âœ… TODO #1: {í•œ ì¤„ ìš”ì•½}
- âœ… TODO #2: {í•œ ì¤„ ìš”ì•½}
- âŒ TODO #3: {ì‹¤íŒ¨/ì·¨ì†Œ ì‚¬ìœ }

### ë³€ê²½ëœ íŒŒì¼
- src/network/handler.ts
- src/utils/io.ts

### ìƒì„¸ ë‚´ìš©
ğŸ“ .z-agent/task-001/
```

### Context ìµœì†Œí™” ì›ì¹™
| í•­ëª© | ì„¸ì…˜ì— í¬í•¨ | íŒŒì¼ì— ì €ì¥ |
|------|-------------|-------------|
| Task ê°œìš” | O | O |
| TODO ëª©ë¡ ìƒíƒœ | O (ìš”ì•½) | O (ìƒì„¸) |
| ê° TODO ì‘ì—… ê²°ê³¼ | X (í•œ ì¤„ë§Œ) | O (ì „ì²´) |
| ë³€ê²½ëœ ì½”ë“œ ë‚´ìš© | X | O |
| ì—ëŸ¬ ë¡œê·¸ | X | O |
| ë””ë²„ê¹… ê³¼ì • | X | O |

---

## Sub Agent Response Rule
session-managerì— ì˜í•´ Spawnëœ Sub Agentê°€ session-managerì—ê²Œ ì‘ë‹µí•˜ëŠ” ë°©ì‹:

### ì‘ë‹µ í˜•ì‹
```yaml
taskId: task-001
todoId: 2
response: complete  # complete | failed | blocked
responseFile: .z-agent/task-001/todo-002.md
```

### ê²°ê³¼ íŒŒì¼ í…œí”Œë¦¿
**ìœ„ì¹˜**: `.z-agent/task-NNN/todo-NNN.md`

```yaml
---
taskId: task-001
todoId: 2
status: complete  # complete | failed | blocked
summary: "ë³‘ëª© ì›ì¸: ë™ê¸° I/O í˜¸ì¶œ 3ê±´ ë°œê²¬"
changedFiles:
  - src/network/handler.ts
  - src/utils/io.ts
nextAction: none  # none | review | retry
retryCount: 0
errorCode: null  # timeout | permission | dependency | unknown
---

# Details (optional read)
## ë³€ê²½ ì‚¬í•­
- `handler.ts:42` - async/await íŒ¨í„´ìœ¼ë¡œ ë³€ê²½
- `io.ts:15` - ë²„í¼ í¬ê¸° 4KB â†’ 64KB

## ì´ìŠˆ
(ì—†ìŒ)
```

---

## Error Handling

### ì¬ì‹œë„ ì „ëµ
| ì„¤ì • | ê¸°ë³¸ê°’ | ì„¤ëª… |
|------|--------|------|
| `maxRetries` | 3 | ìµœëŒ€ ìë™ ì¬ì‹œë„ íšŸìˆ˜ |
| `retryDelay` | 1000ms | ì¬ì‹œë„ ê°„ê²© |
| `backoffMultiplier` | 2 | ì§€ìˆ˜ ë°±ì˜¤í”„ ë°°ìˆ˜ |

### ì—ëŸ¬ ìœ í˜•ë³„ ì²˜ë¦¬
| ì—ëŸ¬ ì½”ë“œ | ìë™ ì¬ì‹œë„ | Fallback | ì—ìŠ¤ì»¬ë ˆì´ì…˜ |
|-----------|-------------|----------|--------------|
| `timeout` | O (3íšŒ) | ì‹œê°„ ì¦ê°€ í›„ ì¬ì‹œë„ | ì‚¬ìš©ì ì•Œë¦¼ |
| `permission` | X | - | ì¦‰ì‹œ ì‚¬ìš©ì í™•ì¸ |
| `dependency` | O (1íšŒ) | ì˜ì¡´ì„± ì„¤ì¹˜ ì‹œë„ | ì‚¬ìš©ì ì•Œë¦¼ |
| `unknown` | O (2íšŒ) | ìƒìœ„ ëª¨ë¸ë¡œ ìœ„ì„ | ì‚¬ìš©ì ì•Œë¦¼ |

### ì—ìŠ¤ì»¬ë ˆì´ì…˜ ê·œì¹™
1. ë™ì¼ ì—ëŸ¬ 3íšŒ ì—°ì† ë°œìƒ â†’ ìƒìœ„ ëª¨ë¸ë¡œ ìœ„ì„ (Haikuâ†’Sonnetâ†’Opus)
2. ìƒìœ„ ëª¨ë¸ì—ì„œë„ ì‹¤íŒ¨ â†’ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ ë° ì„ íƒì§€ ì œê³µ
3. `blocked` ìƒíƒœ â†’ ì¦‰ì‹œ session-managerì—ê²Œ ë³´ê³ , ì‚¬ìš©ì í™•ì¸ í•„ìš”

### ì‹¤íŒ¨/ì°¨ë‹¨ ì‹œ ì‚¬ìš©ì ì„ íƒì§€
```
Task [task-001] TODO #2 failed: timeout after 3 retries

Options:
1. Retry with extended timeout
2. Skip and continue
3. Cancel entire task
4. Escalate to higher model (Opus)
```

---

## Lessons Learned

### ëª©ì 
- ë°˜ë³µë˜ëŠ” ë¬¸ì œ íŒ¨í„´ í•™ìŠµ
- íš¨ê³¼ì ì¸ í•´ê²° ë°©ì•ˆ ì¶•ì 
- í–¥í›„ ìœ ì‚¬ ì‘ì—… ì‹œ ì°¸ì¡°

### Lesson íŒŒì¼ í…œí”Œë¦¿
**ìœ„ì¹˜**: `.z-agent/lessons/`
**íŒŒì¼ëª… íŒ¨í„´**: `lesson-NNN.md`

```yaml
---
lessonId: lesson-001
createdAt: 2024-01-15T14:00:00
relatedTasks:
  - task-001
  - task-003
category: performance  # performance | security | architecture | debugging
tags:
  - async
  - io
  - bottleneck
---

# ë¬¸ì œ ìƒí™©
ë™ê¸° I/O í˜¸ì¶œë¡œ ì¸í•œ ë„¤íŠ¸ì›Œí¬ ë³‘ëª© í˜„ìƒ ë°œìƒ

# í•´ê²° ë°©ì•ˆ
- async/await íŒ¨í„´ìœ¼ë¡œ ì „í™˜
- ë²„í¼ í¬ê¸° ìµœì í™” (4KB â†’ 64KB)

# ì ìš© ì¡°ê±´
- íŒŒì¼ í¬ê¸° > 1MB
- ë™ì‹œ ìš”ì²­ > 10ê±´

# ì£¼ì˜ ì‚¬í•­
- ì—ëŸ¬ í•¸ë“¤ë§ ëˆ„ë½ ì£¼ì˜
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§ í•„ìš”
```

### Lesson í™œìš© Flow
1. ìƒˆ Task ì‹œì‘ ì‹œ ê´€ë ¨ Lessons ìë™ ê²€ìƒ‰
2. ìœ ì‚¬ íŒ¨í„´ ë°œê²¬ ì‹œ session-managerì—ê²Œ ì œì•ˆ
3. Task ì™„ë£Œ í›„ ìƒˆë¡œìš´ Lesson ê¸°ë¡ ì—¬ë¶€ íŒë‹¨

---

## hook / script

### task-manager.py
Task ìƒíƒœ ê´€ë¦¬ë¥¼ ìœ„í•œ CLI ìŠ¤í¬ë¦½íŠ¸

#### ì‚¬ìš©ë²•
```bash
# ê¸°ë³¸ í˜•ì‹: python task-manager.py <taskId> <todoIndex> <action>
python task-manager.py task-001 1 complete
python task-manager.py task-001 2 cancel
python task-manager.py task-001 3 reset
```

#### ëª…ë ¹ì–´
| Action | ì„¤ëª… | ê²°ê³¼ ìƒíƒœ |
|--------|------|-----------|
| `complete` | ì™„ë£Œ ì²˜ë¦¬ | âœ… |
| `cancel` | ì·¨ì†Œ ì²˜ë¦¬ | âŒ |
| `reset` | ëŒ€ê¸°ë¡œ ë˜ëŒë¦¬ê¸° | â³ |
| `block` | ì°¨ë‹¨ ìƒíƒœë¡œ ë³€ê²½ | ğŸš« |
| `progress` | ì§„í–‰ ì¤‘ìœ¼ë¡œ ë³€ê²½ | ğŸ”„ |

---

## Flow

```
/task | /ask | /planning ì‚¬ìš©ì ì…ë ¥ ë°›ìŒ
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. difficulty-analyzer (Haiku)              â”‚
â”‚    - ì‚¬ìš©ì ì…ë ¥ ë‚œì´ë„ ë¶„ì„ (H/M/L)         â”‚
â”‚    - ê²°ê³¼ë¥¼ task íŒŒì¼ì— í¬í•¨í•˜ì—¬ ì €ì¥        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. task-initializer (Skill)                 â”‚
â”‚    - ë‚œì´ë„ í¬í•¨ëœ task íŒŒì¼ ìƒì„±            â”‚
â”‚    - ê´€ë ¨ Lessons Learned ìë™ ê²€ìƒ‰/ì²¨ë¶€     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. session-manager (Sonnet) Spawn           â”‚
â”‚    - task íŒŒì¼ ì½ê³  ì‘ì—… ì‹œì‘                â”‚
â”‚    - ë³µì¡í•œ íŒë‹¨ í•„ìš”ì‹œ Opus ìœ„ì„            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Sub Agent ì‘ì—… ì§€ì‹œ                       â”‚
â”‚    - H: opus-agent                          â”‚
â”‚    - M: sonnet-agent                        â”‚
â”‚    - L: haiku-agent                         â”‚
â”‚    - Sub Agent Response Rule ì¤€ìˆ˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€â”€â”€ ì‘ì—… ì™„ë£Œ â”€â”€â”€â–¶ task-manager.py í˜¸ì¶œ â†’ ë‹¤ìŒ ì‘ì—…
    â”‚
    â”œâ”€â”€â”€ ì‹¤íŒ¨/ì°¨ë‹¨ â”€â”€â”€â–¶ Error Handling ì „ëµ ì ìš©
    â”‚                    â””â”€â–¶ ì¬ì‹œë„ or ì—ìŠ¤ì»¬ë ˆì´ì…˜ or ì‚¬ìš©ì ì•Œë¦¼
    â”‚
    â””â”€â”€â”€ ëª¨ë“  ì‘ì—… ì™„ë£Œ â”€â”€â”€â–¶ ìµœì¢… ê²°ê³¼ ë³´ê³ 
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. session-manager ìµœì¢… ë‹µë³€ ìƒì„±            â”‚
â”‚    - .z-agent/tasks/task-NNN.md ì½ê¸°         â”‚
â”‚    - .z-agent/task-NNN/todo-*.md ì½ê¸°        â”‚
â”‚    - Session Manager Response Rule ì ìš©      â”‚
â”‚    - ê°„ê²°í•œ ìš”ì•½ë§Œ ì„¸ì…˜ì— ì¶œë ¥               â”‚
â”‚    - Lessons Learned ê¸°ë¡ ì—¬ë¶€ íŒë‹¨          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Context ê´€ë¦¬ ë‹¤ì´ì–´ê·¸ë¨
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Claude Code ì„¸ì…˜                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â€¢ /task ë„¤íŠ¸ì›Œí¬ ë³‘ëª© ë¶„ì„í•´ì¤˜                          â”‚  â”‚
â”‚  â”‚ â€¢ Task [task-001] ì‹œì‘...                              â”‚  â”‚
â”‚  â”‚ â€¢ Task [task-001] ì™„ë£Œ (ìš”ì•½ 5ì¤„)                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                         â–²                                    â”‚
â”‚                         â”‚ ìš”ì•½ë§Œ ì¶œë ¥                        â”‚
â”‚                         â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              .z-agent/ (íŒŒì¼ ì‹œìŠ¤í…œ)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ tasks/task-001.md          â† Task ì •ì˜, TODO ìƒíƒœ       â”‚  â”‚
â”‚  â”‚ task-001/todo-001.md       â† ìƒì„¸ ì‘ì—… ê²°ê³¼             â”‚  â”‚
â”‚  â”‚ task-001/todo-002.md       â† ë³€ê²½ ì½”ë“œ, ì—ëŸ¬ ë¡œê·¸       â”‚  â”‚
â”‚  â”‚ lessons/lesson-001.md      â† í•™ìŠµ ë‚´ìš©                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Config

### config.yaml í…œí”Œë¦¿
**ìœ„ì¹˜**: `.z-agent/config.yaml`

```yaml
# z-agent ì „ì—­ ì„¤ì •

version: "1.0"

# ê¸°ë³¸ ì—ì´ì „íŠ¸ ì„¤ì •
agents:
  sessionManager:
    model: sonnet
    escalateToOpus: true  # ë³µì¡í•œ íŒë‹¨ ì‹œ Opus ìœ„ì„

  difficulty:
    H: opus
    M: sonnet
    L: haiku

# ì—ëŸ¬ í•¸ë“¤ë§ ì„¤ì •
errorHandling:
  maxRetries: 3
  retryDelay: 1000  # ms
  backoffMultiplier: 2
  autoEscalate: true

# Lessons Learned ì„¤ì •
lessons:
  autoSearch: true           # Task ì‹œì‘ ì‹œ ìë™ ê²€ìƒ‰
  autoRecord: false          # Task ì™„ë£Œ í›„ ìë™ ê¸°ë¡ (ì‚¬ìš©ì í™•ì¸ í•„ìš”)
  maxRelatedLessons: 5       # ìµœëŒ€ ê´€ë ¨ Lesson í‘œì‹œ ìˆ˜

# ì¶œë ¥ ì„¤ì •
output:
  verboseLevel: 1            # 0: ìµœì†Œ, 1: ì¼ë°˜, 2: ìƒì„¸
  showSubAgentOutput: false  # Sub Agent ì¶œë ¥ í‘œì‹œ ì—¬ë¶€
  language: ko               # ì¶œë ¥ ì–¸ì–´

# í¬ë¡œìŠ¤ í”Œë«í¼ ì„¤ì •
platform:
  pythonCommand: auto        # auto | python | python3
  pathStyle: auto            # auto | posix | windows
```
