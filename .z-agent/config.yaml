# z-agent 전역 설정
# Claude Code를 이용한 세션 컨텍스트 유지, 작업 흐름 관리 시스템

version: "1.0"

# 기본 에이전트 설정
agents:
  sessionManager:
    model: sonnet
    escalateToOpus: true  # 복잡한 판단 시 Opus 위임

  difficulty:
    H: opus    # 고급: 코드 작성, 고급 논리, 복잡한 질문
    M: sonnet  # 일반: 에러 로그 확인, 일반 질문
    L: haiku   # 간단: 웹 검색, 파일 검색, 커밋 메시지 생성

# 에러 핸들링 설정
errorHandling:
  maxRetries: 3
  retryDelay: 1000  # ms
  backoffMultiplier: 2
  autoEscalate: true

  # 에러 유형별 설정
  errorTypes:
    timeout:
      autoRetry: true
      maxRetries: 3
      fallback: "increase_timeout"
    permission:
      autoRetry: false
      escalate: "user"
    dependency:
      autoRetry: true
      maxRetries: 1
      fallback: "install_dependency"
    unknown:
      autoRetry: true
      maxRetries: 2
      fallback: "escalate_model"

# Lessons Learned 설정
lessons:
  autoSearch: true           # Task 시작 시 자동 검색
  autoRecord: true          # Task 완료 후 자동 기록 (사용자 확인 필요)
  maxRelatedLessons: 5       # 최대 관련 Lesson 표시 수
  categories:
    - performance
    - security
    - architecture
    - debugging
    - best-practice

# 출력 설정
output:
  verboseLevel: 1            # 0: 최소, 1: 일반, 2: 상세
  showSubAgentOutput: false  # Sub Agent 출력 표시 여부
  language: ko               # 출력 언어

# 크로스 플랫폼 설정
platform:
  pythonCommand: auto        # auto | python | python3
  pathStyle: auto            # auto | posix | windows

# Task 설정
tasks:
  idPrefix: "task-"
  idPadding: 3               # task-001, task-002 등
  defaultDifficulty: M
  statuses:
    - pending
    - in_progress
    - completed
    - cancelled
    - blocked
